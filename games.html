<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Love Games Deluxe</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { --pink: #ff85a2; --purple: #a29bfe; }
        body { 
            margin: 0; font-family: 'Quicksand', sans-serif; 
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            overflow: hidden; touch-action: none; /* Evita scroll en iPhone */
            display: flex; flex-direction: column; align-items: center;
        }
        .card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            margin: 15px; padding: 15px; border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center; width: 90%; max-width: 350px;
            border: 2px solid white;
        }
        canvas { 
            background: #ffffffaa; border-radius: 20px; 
            display: block; margin: 0 auto; touch-action: none;
        }
        .controller { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; justify-items: center; }
        .btn {
            width: 55px; height: 55px; border-radius: 18px; border: none;
            background: white; font-size: 22px; color: #555;
            box-shadow: 0 5px 0 #ddd; transition: 0.1s;
            display: flex; align-items: center; justify-content: center;
        }
        .btn:active { transform: translateY(4px); box-shadow: 0 1px 0 #ddd; background: var(--pink); }
        .secret-msg { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: white; padding: 20px; border-radius: 20px; z-index: 100;
            animation: pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 50px rgba(0,0,0,0.2); display: none;
        }
        @keyframes pop { from { scale: 0; } to { scale: 1; } }
    </style>
</head>
<body>
    <a href="index.html" style="
    position: fixed; 
    top: 15px; 
    left: 15px; 
    z-index: 1000; 
    text-decoration: none; 
    background: white; 
    padding: 10px 15px; 
    border-radius: 20px; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    font-size: 14px;
    color: #ff85a2;
    font-weight: bold;
">‚¨Ö Volver</a>

<div class="card">
    <h3 style="margin:5px; color:#666">ü¶Ñ Unicorn Magic</h3>
    <canvas id="maze" width="300" height="180"></canvas>
    <div class="controller">
        <div></div><button class="btn" ontouchstart="moveU(0,-15)">‚¨ÜÔ∏è</button><div></div>
        <button class="btn" ontouchstart="moveU(-15,0)">‚¨ÖÔ∏è</button>
        <button class="btn" ontouchstart="moveU(0,15)">‚¨áÔ∏è</button>
        <button class="btn" ontouchstart="moveU(15,0)">‚û°Ô∏è</button>
    </div>
</div>

<div class="card">
    <h3 style="margin:5px; color:#666">üê∂ Snoopy Adventure</h3>
    <canvas id="snoopy" width="300" height="180"></canvas>
    <div class="controller" style="grid-template-columns: 1fr 1fr 1fr;">
        <button class="btn" ontouchstart="sDir=-5" ontouchend="sDir=0">‚¨ÖÔ∏è</button>
        <button class="btn" style="background:var(--pink); color:white" ontouchstart="jump()">JUMP</button>
        <button class="btn" ontouchstart="sDir=5" ontouchend="sDir=0">‚û°Ô∏è</button>
    </div>
</div>

<div id="secret" class="secret-msg" onclick="this.style.display='none'"></div>

<script>
// --- CONFIGURACI√ìN UNICORNIO ---
const mCanvas = document.getElementById('maze');
const mctx = mCanvas.getContext('2d');
let ux = 20, uy = 20;

function drawMaze() {
    mctx.clearRect(0, 0, 300, 180);
    // Dibujar meta
    mctx.font = "30px serif";
    mctx.fillText("üåà", 250, 160);
    // Dibujar Unicornio con sombra
    mctx.shadowBlur = 10; mctx.shadowColor = "pink";
    mctx.fillText("ü¶Ñ", ux, uy);
    mctx.shadowBlur = 0;
}

function moveU(dx, dy) {
    // L√≠mites para que no se salga
    if (ux + dx >= 0 && ux + dx <= 270) ux += dx;
    if (uy + dy >= 20 && uy + dy <= 170) uy += dy;
    if (ux > 240 && uy > 140) showSecret('¬°Llegaste a mi coraz√≥n! üíñ');
    drawMaze();
}

// --- CONFIGURACI√ìN SNOOPY ---
const sCanvas = document.getElementById('snoopy');
const sctx = sCanvas.getContext('2d');
let sx = 20, sy = 140, svy = 0, sDir = 0;
const gravity = 0.6;

function updateSnoopy() {
    sctx.clearRect(0, 0, 300, 180);
    
    // Suelo
    sctx.fillStyle = "#95afc0";
    sctx.fillRect(0, 150, 300, 30);

    // Movimiento horizontal con l√≠mites
    sx += sDir;
    if (sx < 0) sx = 0;
    if (sx > 270) sx = 270;

    // Salto y Gravedad
    sy += svy;
    svy += gravity;
    if (sy > 140) { sy = 140; svy = 0; }

    // Dibujar Snoopy
    sctx.font = "35px serif";
    sctx.fillText("üê∂", sx, sy);
    
    if(sx > 250) showSecret('¬°Contigo el mundo es mejor! üêæ');
    requestAnimationFrame(updateSnoopy);
}

function jump() { if (sy === 140) svy = -12; }

function showSecret(t) {
    const el = document.getElementById('secret');
    el.style.display = 'block';
    el.innerHTML = `<h3>${t}</h3><p style="font-size:12px">Toca para cerrar</p>`;
}

// Comandos Secretos de Teclado (Para PC)
let buffer = "";
window.addEventListener('keydown', e => {
    buffer += e.key.toUpperCase();
    if (buffer.includes("LOVE")) showSecret("¬°C√ìDIGO SECRETO: Eres lo m√°s lindo!");
    if (buffer.length > 10) buffer = "";
});

// Iniciar juegos
drawMaze();
updateSnoopy();
</script>
</body>
</html>